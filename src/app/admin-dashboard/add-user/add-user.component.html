<h2>Crea un Nuovo Utente</h2>
<p>Utilizza il modulo sottostante per aggiungere un nuovo Amministratore o Collaboratore.</p>

<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="add-user-form">
    
    <div class="form-group">
        <label for="name">Nome Completo</label>
        <input id="name" type="text" formControlName="name" class="form-control"
               [ngClass]="{'is-invalid': f['name'].invalid && f['name'].touched}">
        <div *ngIf="f['name'].invalid && f['name'].touched" class="invalid-feedback">
            Il nome è obbligatorio.
        </div>
    </div>
    
    <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" class="form-control"
               [ngClass]="{'is-invalid': f['email'].invalid && f['email'].touched}">
        <div *ngIf="f['email'].invalid && f['email'].touched" class="invalid-feedback">
            <span *ngIf="f['email'].errors?.['required']">L'email è obbligatoria.</span>
            <span *ngIf="f['email'].errors?.['email']">Inserisci un formato email valido.</span>
        </div>
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <input id="password" type="password" formControlName="password" class="form-control"
               [ngClass]="{'is-invalid': f['password'].invalid && f['password'].touched}">
        <div *ngIf="f['password'].invalid && f['password'].touched" class="invalid-feedback">
            <span *ngIf="f['password'].errors?.['required']">La password è obbligatoria.</span>
            <span *ngIf="f['password'].errors?.['minlength']">Deve contenere almeno 6 caratteri.</span>
        </div>
    </div>
    
    <div class="form-group">
        <label for="role">Ruolo</label>
        <select id="role" formControlName="role" class="form-control"
                [ngClass]="{'is-invalid': f['role'].invalid && f['role'].touched}">
            <option value="COLLABORATOR">Collaboratore</option>
            <option value="ADMIN">Amministratore</option>
        </select>
        <div *ngIf="f['role'].invalid && f['role'].touched" class="invalid-feedback">
            Il ruolo è obbligatorio.
        </div>
    </div>

    <div class="form-actions">
        <button type="submit" [disabled]="userForm.invalid" class="btn btn-success">
            Salva Utente
        </button>
        <a [routerLink]="['/admin/users']" class="btn btn-secondary">
            Annulla
        </a>
    </div>

</form>